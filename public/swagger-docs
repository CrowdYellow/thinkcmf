openapi: 3.0.0
info:
  title: HZJ接口文档
  version: '0.1'
paths:
  /api/hzj/authorizations:
    post:
      tags:
        - 用户相关
      summary: 登录
      description: 登录接口
      operationId: api.user.login
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              required:
                - name
                - phone
                - user_ident
                - organization
                - password
                - password_confirm
                - key
                - code
              properties:
                name:
                  description: 用户名
                  type: string
                phone:
                  description: 手机号
                  type: string
                user_ident:
                  description: 身份证
                  type: string
                organization:
                  description: 党组织
                  type: int
                password:
                  description: 密码
                  type: string
                key:
                  description: 验证码的key
                  type: string
                code:
                  description: 验证码
                  type: string
              type: object
      responses:
        '200':
          description: 请求成功
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: { properties: { user: { type: array, items: { properties: { id: { description: ID, type: integer }, name: { description: 用户名, type: string }, phone: { description: 手机号, type: string }, user_ident: { description: 身份证, type: string }, organization: { description: 党组织, type: integer }, create_time: { description: 创建时间, type: string }, update_time: { description: 修改时间, type: string } }, type: object } }, token: { description: token, type: string } }, type: object } } }
                  type: object
        '403':
          description: 请求失败
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: {  } } }
                  type: object
  /api/hzj/dropList:
    get:
      tags:
        - 前台
      summary: 下拉菜单
      description: 下拉菜单
      operationId: api.dropList
      parameters:
        -
          name: value
          in: query
          description: 方法
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 请求失败
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: {  } } }
                  type: object
  /api/hzj/resources:
    get:
      tags:
        - 资源-心愿-需求
      summary: 获取资源，需求，心愿列表
      operationId: api.user.resources
      parameters:
        -
          name: type
          in: query
          description: '类型:1->心愿, 2->资源， 3->需求'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 请求成功
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: { properties: { id: { description: ID, type: integer }, title: { description: 标题, type: string }, content: { description: 内容, type: string }, name: { description: 姓名, type: string }, contact: { description: 联系方式, type: string }, type: { description: '类型:1->心愿, 2->资源， 3->需求', type: integer }, user_id: { description: 发布者ID, type: integer }, create_time: { description: 创建时间, type: string }, update_time: { description: 修改时间, type: string } }, type: object } } }
                  type: object
        '403':
          description: 请求失败
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: {  } } }
                  type: object
    post:
      tags:
        - 资源-心愿-需求
      summary: 发布
      operationId: api.user.resources.store
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              required:
                - title
                - content
                - type
                - name
                - contact
              properties:
                title:
                  description: 标题
                  type: string
                content:
                  description: 内容
                  type: string
                type:
                  description: '类型:1->心愿, 2->资源， 3->需求'
                  type: int
                name:
                  description: 姓名
                  type: int
                contact:
                  description: 联系方式
                  type: string
              type: object
      responses:
        '200':
          description: 请求成功
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: { properties: { id: { description: ID, type: integer }, title: { description: 标题, type: string }, content: { description: 内容, type: string }, name: { description: 姓名, type: string }, contact: { description: 联系方式, type: string }, type: { description: '类型:1->心愿, 2->资源， 3->需求', type: integer }, user_id: { description: 发布者ID, type: integer }, create_time: { description: 创建时间, type: string }, update_time: { description: 修改时间, type: string } }, type: object } } }
                  type: object
        '403':
          description: 请求失败
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: {  } } }
                  type: object
  /api/hzj/users:
    get:
      tags:
        - 用户相关
      summary: 获取登录用户信息
      operationId: api.user.me
      parameters:
        -
          name: Authorization
          in: header
          description: 'token, ex.:Bear+'' ''+token'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 请求成功
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: { properties: { id: { description: ID, type: integer }, name: { description: 用户名, type: string }, phone: { description: 手机号, type: string }, user_ident: { description: 身份证, type: string }, organization: { description: 党组织, type: integer }, create_time: { description: 创建时间, type: string }, update_time: { description: 修改时间, type: string } }, type: object } } }
                  type: object
        '403':
          description: 请求失败
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: {  } } }
                  type: object
    post:
      tags:
        - 用户相关
      summary: 注册
      description: 注册接口
      operationId: api.user.register
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              required:
                - name
                - phone
                - user_ident
                - organization
                - password
                - password_confirm
              properties:
                name:
                  description: 用户名
                  type: string
                phone:
                  description: 手机号
                  type: string
                user_ident:
                  description: 身份证
                  type: string
                organization:
                  description: 党组织
                  type: int
                password:
                  description: 密码
                  type: string
                password_confirm:
                  description: 确认密码
                  type: string
              type: object
      responses:
        '200':
          description: 请求成功
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: { properties: { id: { description: ID, type: integer }, name: { description: 用户名, type: string }, phone: { description: 手机号, type: string }, user_ident: { description: 身份证, type: string }, organization: { description: 党组织, type: integer }, create_time: { description: 创建时间, type: string }, update_time: { description: 修改时间, type: string } }, type: object } } }
                  type: object
        '403':
          description: 请求失败
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: {  } } }
                  type: object
  /api/hzj/phoneCode:
    post:
      tags:
        - 用户相关
      summary: 发送手机验证码
      description: 发送手机验证码接口
      operationId: api.send.phoneCode
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              required:
                - phone
              properties:
                phone:
                  description: 手机号
                  type: string
                serve:
                  description: 用于测试，可不填
                  type: string
              type: object
      responses:
        '200':
          description: 请求成功
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: { properties: { key: { description: 验证码唯一key, type: string }, expired_at: { description: 过期时间（秒）, type: integer } }, type: object } } }
                  type: object
        '403':
          description: 请求失败
          content:
            application/json:
              schema:
                type: array
                items:
                  properties: { code: { description: 响应code, type: integer }, msg: { description: 响应消息, type: string }, data: { description: 响应参数, type: array, items: {  } } }
                  type: object
